{%- comment -%}
  Template: VHS VCR Page
  Usage: This template can be applied to any page through the Shopify admin panel
  under page settings. Supports dynamic sections for flexible layouts.
{%- endcomment -%}

<div class="template-page-vhsVCR">
  {% section 'vhs-page-header' %}
  {%- for block in section.blocks -%}
    <div {{ block.shopify_attributes }}>
      {% render block.type %}
    </div>
  {%- endfor -%}
</div>

{%- style -%}
  {% if page.metafields.custom.background_color != blank %}
    .template-page-vhsVCR {
      background-color: {{ page.metafields.custom.background_color }};
    }
  {% endif %}
  {% if page.metafields.custom.background_image != blank %}
    .template-page-vhsVCR {
      background-image: url({{ page.metafields.custom.background_image | image_url: width: 2000 }});
      background-size: cover;
      background-position: center;
    }
  {% endif %}
{%- endstyle -%}

{% schema %}
{
  "name": "VHS VCR Page",
  "blocks": [
    {
      "type": "full_width_media",
      "name": "Media Section",
      "limit": null
    },
    {
      "type": "video_block",
      "name": "Video Block",
      "limit": null
    }
  ],
  "presets": [
    {
      "name": "VHS VCR Page"
    }
  ]
}
{% endschema %}
